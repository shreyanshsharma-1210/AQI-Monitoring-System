# ============================================================
# AQI Monitoring System — Environment Variables
# Copy this file to .env and fill in your values.
# ============================================================

# ── AQI Data (Required) ─────────────────────────────────────
# Get a free token at: https://aqicn.org/api/
WAQI_API_KEY=your_waqi_token_here

# ── Geolocation (Required) ──────────────────────────────────
# Get a free token at: https://ipinfo.io/signup
IPINFO_TOKEN=your_ipinfo_token_here

# ── PostgreSQL ──────────────────────────────────────────────
# Used by FastAPI (SQLAlchemy) and the Pathway pipeline
DATABASE_URL=postgresql+asyncpg://aqi_user:secret@localhost:5432/aqi_db

# Pathway pipeline reads these individually
PGHOST=localhost          # Use "postgres" inside Docker Compose
PGPORT=5432
PGDATABASE=aqi_db
PGUSER=aqi_user
PGPASSWORD=secret

# ── Redis ───────────────────────────────────────────────────
# Used by FastAPI (pub/sub bridge) and Pathway publisher
REDIS_URL=redis://localhost:6379   # Use "redis://redis:6379" inside Docker Compose

# ── Supabase Auth (Optional — required for user auth) ───────
# Create a free project at: https://supabase.com
SUPABASE_URL=https://your-project-id.supabase.co
SUPABASE_ANON_KEY=your_supabase_anon_key_here

# ── Pipeline Tuning (Optional) ──────────────────────────────
# How often (seconds) to poll WAQI stations. Default: 180 (3 min).
# Use 900 (15 min) for production to stay within WAQI rate limits.
AQI_POLL_INTERVAL_S=180
